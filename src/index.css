@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Berry-Blue Colour System Variables
 * Primary: Berry (#A3005A) - Main brand colour for CTAs, accents
 * Secondary: Blue (#2563EB) - Supporting colour for icons, links
 */
:root {
  /* Brand Fuchsia (Primary) */
  --brand-fuchsia: #A3005A;
  
  /* Primary (Berry) */
  --color-primary: #A3005A;
  --color-primary-dark: #820048;
  --color-primary-soft: #F9E6F0;
  
  /* Secondary (Blue) */
  --color-secondary: #2563EB;
  --color-secondary-dark: #1E3A8A;
  --color-secondary-soft: #E5EEFF;
  
  /* Neutral Palette */
  --color-neutral-50: #F8FAFC;
  --color-neutral-100: #F1F5F9;
  --color-neutral-200: #E2E8F0;
  --color-neutral-300: #CBD5E1;
  --color-neutral-400: #94A3B8;
  --color-neutral-500: #64748B;
  --color-neutral-600: #475569;
  --color-neutral-700: #334155;
  --color-neutral-800: #1E293B;
  --color-neutral-900: #0F172A;
}

/* 
 * Responsive CSS defaults for mobile-first approach
 * Ensures no horizontal scroll, proper image sizing, and accessible tap targets
 */
@layer base {
  /* Prevent horizontal overflow at the root level */
  html {
    overflow-x: hidden;
    -webkit-text-size-adjust: 100%; /* Prevent font scaling in landscape */
  }

  body {
    font-family: 'Montserrat', Arial, Helvetica, sans-serif;
    background: linear-gradient(to bottom, #FDFCFA 0%, #F5F3F0 30%, #EDE9E3 60%, #F8F6F3 100%);
    background-attachment: fixed;
    min-height: 100vh;
    overflow-x: hidden; /* Prevent horizontal scroll */
  }

  /* Make all images responsive by default */
  img,
  video,
  iframe {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Ensure tables don't break layout on mobile */
  table {
    max-width: 100%;
    overflow-x: auto;
    display: block;
  }
}

/* Your custom component styles */
@layer components {
  /* Primary CTA - Berry colour */
  .btn-primary {
    @apply px-6 py-3 rounded-md font-semibold transition-all duration-300 border-2 border-transparent;
    background-color: var(--color-primary);
    color: white;
  }
  .btn-primary:hover {
    @apply bg-white border-2;
    color: var(--color-primary);
    border-color: var(--color-primary);
  }
  
  /* Secondary CTA - Blue colour */
  .btn-secondary {
    @apply px-6 py-3 bg-white rounded-md font-semibold transition-all duration-300 border-2;
    color: var(--color-secondary);
    border-color: var(--color-secondary);
  }
  .btn-secondary:hover {
    background-color: var(--color-secondary);
    color: white;
  }
  
  /* Unified Card Style */
  .card {
    @apply bg-white rounded-2xl;
    border-top: 3px solid var(--color-primary);
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.06);
  }
  
  /* Section Background Utilities */
  .section-muted {
    background-color: var(--color-neutral-50);
  }
  .section-gradient-primary {
    background: linear-gradient(135deg, var(--color-primary-soft) 0%, #ffffff 50%, var(--color-primary-soft) 100%);
  }
  .section-gradient-secondary {
    background: linear-gradient(135deg, var(--color-secondary-soft) 0%, #ffffff 50%, var(--color-secondary-soft) 100%);
  }
  
  /* Image Frame Utility */
  .image-frame {
    @apply rounded-2xl overflow-hidden bg-white;
    box-shadow: 0 10px 30px rgba(15, 23, 42, 0.10);
  }
  .section-dark {
    @apply text-white;
  }
  .section-dark h1,
  .section-dark h2,
  .section-dark h3,
  .section-dark h4,
  .section-dark h5,
  .section-dark h6 {
    @apply text-white;
  }
  .section-light {
    @apply text-gray-900;
  }
  .section-light h1,
  .section-light h2,
  .section-light h3,
  .section-light h4,
  .section-light h5,
  .section-light h6 {
    @apply text-gray-900;
  }

  /* Colour Mixing Videos Section */
  .mixing-videos-section {
    @apply pt-12 pb-12 px-6;
  }

  .mixing-title {
    @apply text-3xl font-semibold text-gray-900 mb-2 text-center;
  }

  .mixing-text {
    @apply mb-8 max-w-2xl text-gray-600 font-light text-center mx-auto;
  }

  .mixing-grid {
    display: grid;
    /* Mobile-first: single column, then responsive columns on larger screens */
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .mixing-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.25rem;
    }
  }

  @media (min-width: 1024px) {
    .mixing-grid {
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
    }
  }

  .mixing-video {
    @apply w-full rounded-lg bg-black;
    object-fit: cover;
  }

  /* Responsive video wrapper for embedded videos/iframes (16:9 aspect ratio) */
  .video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
  }

  .video-wrapper iframe,
  .video-wrapper video,
  .video-wrapper embed,
  .video-wrapper object {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  /* Table wrapper for horizontal scrolling on mobile */
  .table-wrapper {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Blurred certificate images for privacy protection - light blur for visibility */
  .certificate-blurred {
    filter: blur(1.5px) !important;
    -webkit-filter: blur(1.5px) !important;
    pointer-events: none; /* Prevent direct image interactions */
  }

  /* Ensure blur persists on all states */
  .certificate-blurred:hover,
  .certificate-blurred:focus,
  .certificate-blurred:active {
    filter: blur(1.5px) !important;
    -webkit-filter: blur(1.5px) !important;
  }

  /* Consistent styling for manufacturing/factory images */
  .image-frame {
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(15, 23, 42, 0.10);
    background: #ffffff;
  }
}

/* 
 * Responsive utility classes for common patterns
 */
@layer utilities {
  /* Minimum tap target size for accessibility (44x44px recommended) */
  .tap-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* Fluid container with consistent padding */
  .container-fluid {
    width: 100%;
    max-width: 1280px;
    margin: 0 auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  @media (min-width: 640px) {
    .container-fluid {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .container-fluid {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Readable text width for long content */
  .prose-width {
    max-width: 65ch;
  }

  /* Hide scrollbar for horizontal scroll containers while maintaining scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
  }
}
